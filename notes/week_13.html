<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        
   
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Dynamic Web Development</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0-rc2/css/bootstrap.min.css">
        <style>body {
                padding-top: 60px;
                padding-bottom: 40px;
            }
        </style>
        
        <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
        
   <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <!-- (1) force latest IE rendering engine: http://goo.gl/tf4JH -->
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

   <!-- (1) Moot look and feel -->
   <link rel="stylesheet" href="https://cdn.moot.it/1/moot.css">

   <!-- (4) Custom CSS -->
   <style>body {
      font-family: "myriad pro", tahoma, verdana, arial, sans-serif;
      margin: 0; padding: 0;
   }

   .moot {
      font-size: 18px;
   }
   </style>

    </head>
  <body>

        <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">ITP DWD Fall 2013</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../page/quicknotes.html">Web Dev Cheatsheet</a></li>
            <li><a href="../forum.html">Forum</a></li>
            <li class="dropdown">
              <a href="week_13.html#" class="dropdown-toggle" data-toggle="dropdown">Previous DWD Classes <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://itpwebclass.herokuapp.com/">NodeJS - Spring 2013</a></li>
                <li><a href="http://itppyweb2012.herokuapp.com/">Python - Fall 2012</a></li>
              </ul>
            </li>
          </ul>          
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">
      
      

<br>
<div class="page-header">
	<h1>December 03<br>Week 13: Processing and Arduino as Web Servers and Clients</h1>
	<p class="lead">Getting Processing and Arduino to provide and consume web API&#39;s. Spacebrew is a great tool to make the interaction between different applications and devices happen and persist.</p>
</div>

<div class="row">
	<div class="col-md-2">
		
		<ul class="nav nav-pills nav-stacked">
			<li class="active"><a href="week_13.html#notes">Class notes</a></li>
			<li><a href="week_13.html#assignment">Assignment</a></li>
			<li><a href="week_13.html#discussion">Discussion</a></li>
		</ul>
	</div>
	<div class="col-md-10">

		
		<div id="notes">
			<h2>The Web As Glue</h2>
<p>Besides Webservers, databases, blogs, file uploads and user authentication the Web is really good at connecting anything to anything. </p>
<p>Websockets are a persistent connections between servers and clients that work over HTTP but have TCP like operation. For example, one server might offer Websocket support so clients can immediately broadcast and receive message without reloading or using AJAX. The clients subscribe to channels and/or events. One client sends a <strong>message</strong> associated with an <strong>event</strong> which goes to the server, the server then <strong>publishes</strong> or broadcasts it to people <strong>subscribed</strong>.</p>
<h2>Publishers &amp; Subscribers</h2>
<h3>Publishers</h3>
<p>Publishers have a name/title something to offer, usually in the form of an event and message.</p>
<h3>Subscribers</h3>
<p>Subscribers bind to a publishers event.</p>
<h2>Spacebrew</h2>
<p><a href="http://docs.spacebrew.cc/">Spacebrew</a> is an open sourced websocket event based publisher/subscriber platform that lets you easily connect your projects together. For example, </p>
<ul>
<li>Web page image click to Process sketch.</li>
<li>Processing sketch gravity game collision event to OpenFrameworks project.</li>
<li>Arduino sensor to Web page background color.</li>
<li>iPhone app to Python app &amp; Arduino LED output.</li>
<li>OR any combination you can imagine.</li>
</ul>
<h3>Spacebrew Publisher &amp; Subscriber</h3>
<ul>
<li>Spacebrew Publisher can send string, number, boolean or a custom data packet.</li>
<li>Spacebrew Subscribers can configure themselves to receive strings, numbers, booleans or custom data packets.</li>
</ul>
<h3>Built in NodeJS</h3>
<p>Spacebrew is built in Node but can be made to work with any language that can make web requests. So Processing, Arduino, OpenFrameworks, iOS, Android, Python, Ruby, PHP and browser based JavaScript and every other network ready language can be made to publish and subscribe with Spacebrew.</p>
<h3>The Spacebrew server</h3>
<ul>
<li>Spacebrew is centralized, meaning there is a server that controlls the publish and subscribe events.*   Publishers and Subscribers both connect to the Spacebrew server.</li>
</ul>
<p>Spacebrew has a sandbox server for anyone to try out <a href="http://spacebrew.github.io/spacebrew/admin/admin.html?server=sandbox.spacebrew.cc">http://spacebrew.github.io/spacebrew/admin/admin.html?server=sandbox.spacebrew.cc</a></p>
<p>You can run your own Spacebrew server, locally on your own machine and network at home or on a server you set up on Linode, Rackspace or AWS. Spacebrew will not run on Heroku as you expect.</p>
<h2>Spacebrew Admin</h2>
<p>To connect publishers and subscribers there is a Spacebrew Admin page. See the Sandbox Admin here, <a href="http://spacebrew.github.io/spacebrew/admin/admin.html?server=sandbox.spacebrew.cc">http://spacebrew.github.io/spacebrew/admin/admin.html?server=sandbox.spacebrew.cc</a></p>
<p>You can also have a local admin for your own Spacebrew server which is included in the downloaded Spacebrew code. </p>
<p>Navigate to and double click to open spacebrew directory <strong>/admin/admin.html</strong></p>
<pre><code>/spacebrew/admin/admin.html
</code></pre>
<p>You can click on a publisher with a String, and connect it to any Subscriber ready to accept a String. Data types must match, that's the only rule.</p>
<h2>Getting Started with your own local Spacebrew server</h2>
<p>1) Download <a href="https://github.com/Spacebrew/spacebrew">Spacebrew server</a></p>
<p>2) Navigate into the code directory with Terminal and start the Spacebrew server.</p>
<pre><code>node node_server.js
</code></pre>
<p>3) Open Spacebrew local admin. Open a browser tab and File -&gt; Open <strong><spacebrew directory>/admin/admin.html</strong></p>
<p>The page will load but no publishers/subscribers will be listed.</p>
<p>4) Let's get the Spacebrew Javascript/Web page examples. Download <a href="https://github.com/Spacebrew/spacebrew.js">Spacebrew Javascript/Web page examples</a></p>
<p>5) Open the JS example directory and open the spacebrew_button folder. Click and open the <strong>index.html</strong> file.</p>
<p>Connect to the local Spacebrew server by adding ?server=localhost to the url</p>
<pre><code>?server=localhost
</code></pre>
<p>6) Your Spacebrew Admin will then update with the Button publisher and subscriber. Click on the Publisher and then the Subscriber to connect them.</p>
<p>7) Your Spacebrew button web page will now change background when the button is clicked.</p>
		</div>

		<hr>
		<a name="assignment"></a>
		<div class="page-header" id="assignment">
			<h3>Assignment</h3>
			
			
			<div class="row">
				<div class="col-md-10">
					
				</div>
			</div>

		</div>
		
		<a name="discussion"></a>
		<div class="page-header" id="discussion">
			<h3>Discussion</h3>
			
		</div>
		<div class="row">
			<div class="col-md-8">
				<a class="moot" data-show_online="true"
				   href="https://moot.it/i/itpdwd/classnotes/week_13">
				   Comments for this class topic.
				</a>
		        

			</div>
		</div>
	</div>
</div>


      <hr>

      <footer>
        <p>Dynamic Web Development | John Schimmel | Interactive Telecommunications Program, NYU</p>
      </footer>
    </div> <!-- /container -->

    
	

        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0-rc2/js/bootstrap.min.js"></script>
        <script src="../static/js/main.js"></script>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-43580620-1', 'itppyweb.herokuapp.com');
          ga('send', 'pageview');
        </script>
    
  	<!-- (1) Moot client application -->
   	<script src="https://cdn.moot.it/1/moot.min.js"></script>

    </body>
</html>